# 性能优化

优化打包速度 - 开发体验和效率

优化产出代码 - 产品性能

## 构建速度

### 优化babel-loader

开启缓存 ['babel-loader?cacheDirectory'] 使用inclued或exclude限定范围

### IgnorePlugin

### noParse

### happyPack

提高构建速度，特别时多核cpu

### ParallelUglifyPlugin

压缩JS， webpack内置Uglify但是不支持多进程

ParallelUglifyPlugin支持多进程和代码简化，推荐只在prod环境下使用

项目大，打包慢，多进程提高速度，但是项目小反而会减缓速度（进程开销）

### 自动刷新（生产不可用）

 webpack存在自动刷新 watch: true watchOptions 用于配置监听

 但是devServer用不到

### 热更新（生产不可用）

自动刷新是整个网页刷新，速度慢，状态丢失

热更新则是新代码生效，页面不刷新，状态不丢失

引用HotModuleRepalcementPlugin

同时devServer设置hot为true

使用module.hot注册监听，文件修改后触发

### DllPlugin 动态链接库（生产不可用）

前端框架体积大，构建慢，比较稳定，不常升级版本

webpack内置了DllPlugin支持

DllPlugin 打包dll文件

DllReferencePlugin 使用dll文件

单独设置一个webpack.dll.js文件

npm run dll 单独命令执行

## 产出代码

体积更小

合理分包，不重复加载

速度更快，内存使用少

### 小图片base64编码

url-loader

### bundle hash

按照文件内容生成文件

### 懒加载

### 提取公共代码

### IgnorePlugin

### 使用CDN加速

output设置publicPath

### 使用production

### 使用Scope Hosting
