# 高级配置

## 多入口

通过entry配置多个入口

output的filename修改为 [name].[contentHash:8].js

plugins中增加多个HtmlWebpackPlugin的类用作html多入口，同时设置chunk指定引入js，否则会都引入

## 抽离压缩css

开发环境 使用['style-loader', 'css-loader', 'postcss-loader']影响不大

生产环境 loader中增加MiniCssExtraPlugin.loader plugins中增加MiniCssExtraPlugin并配置filename optimization中minimizer增加 TerserJSPugin 和 OptimizeCSSAssetsPlugin 

## 抽离公共代码

代码引入时，由于引入代码的文件进行修改，则引入第三方模块会重新拉取，不利于缓存

splitChunks配置

chunks分为all（全部处理），initial（对异步不处理）和async（只对异步进行处理）

cacheGroups 分为第三方模块vendor和公共模块common name用于设置chunk文件名用于HtmlWebpackPlugin后续引入 test用于设置过滤 minSize用于限制分包大小 minChunks用于过滤最小复用过几次 priotity用于设置优先级

## 异步加载js

webpack 默认支持

定义一个chunk

```js
import('./data.js').then(res => {
    console.log(res.default.message)
})
```

## 处理JSX

.babelrc 中 presets设置为["@babel/preset-react"]则支持jsx

## 处理vue

rules 中增加vue-loader

## module chunk bundle 区别

module 各个源码文件 webpack中一切皆模块

chunk 多个模块合并成 如entry import() splitChunk

bundle 最终输出文件
